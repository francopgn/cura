<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <link rel="icon" type="image/png" href="/favicon.png" />
  <title>Información | Ley C.U.R.A.</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />

  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet" />

  <script src="https://cdn.tailwindcss.com"></script>
  <script>
    tailwind.config = {
      theme: {
        extend: {
          colors: {
            cura: {
              primary: '#004E85',       
              primaryDark: '#00345C',   
              card: '#065D9B',         
              accent: '#00C2FF',       
              accentLight: '#59D2FF'   
            }
          },
          fontFamily: {
            sans: ['Inter', 'sans-serif'],
          }
        }
      }
    }
  </script>

<style>
  /* --- ANIMACIONES DE MODALES --- */
  .modal-backdrop {
    opacity: 0;
    transition: opacity 0.25s ease;
  }
  .modal-backdrop.show {
    opacity: 1;
  }
  .modal-card {
    transform: scale(0.9) translateY(10px);
    opacity: 0;
    transition: transform 0.25s ease, opacity 0.25s ease;
  }
  .modal-card.show {
    transform: scale(1) translateY(0);
    opacity: 1;
  }
</style>

</head>
<body class="font-sans bg-cura-primary text-white overflow-x-hidden flex flex-col min-h-screen">

  <!-- Aviso Superior -->
  <div class="w-full bg-yellow-50 text-center text-xs text-yellow-900 py-2 px-4">
    La ley se encuentra en revisión técnica y estará disponible próximamente en la web.
  </div>

  <!-- Header -->
  <header class="sticky top-0 z-30 bg-cura-primaryDark text-white border-b border-cura-accent/40 shadow-sm">
    <div class="max-w-5xl mx-auto px-4 py-3 flex flex-col sm:flex-row gap-3 sm:gap-4 sm:items-center sm:justify-between">

      <div class="flex items-center gap-2">
        <!-- Asumiendo ruta absoluta para el logo -->
        <img src="/Informacion/logo.png"
             alt="Logo C.U.R.A."
             class="h-16 w-auto object-contain shrink-0" />
        <div class="leading-tight">
          <p class="text-[11px] uppercase tracking-[0.25em] text-cura-accentLight">LEY NACIONAL</p>
          <p class="text-sm font-bold text-white">Información Detallada</p>
        </div>
      </div>

      <nav class="flex items-center gap-4 text-sm font-medium whitespace-nowrap justify-center sm:justify-end mt-2 sm:mt-0">
        <a href="/index.html" class="text-cura-accentLight hover:text-white transition-colors flex items-center gap-1">
            <span>←</span> Volver a la página principal
        </a>
        <a href="#sumate" class="text-cura-accentLight hover:text-white transition-colors uppercase font-bold">
            Sumate
        </a>
        <a href="/random/demo-random.html"
           class="inline-flex items-center gap-1 text-cura-primary bg-cura-accent rounded-full px-3 py-1 text-xs font-semibold hover:bg-white transition">
          Demo Enfermero
        </a>
      </nav>
    </div>
  </header>

  <!-- Contenido Principal (Espacio para futura info) -->
  <main class="flex-grow max-w-5xl mx-auto px-4 py-10 w-full space-y-12">
    
    <section class="text-center py-10">
        <h1 class="text-3xl font-bold text-white mb-4">Información sobre el Proyecto</h1>
        <p class="text-cura-accentLight max-w-2xl mx-auto">
            Aquí podrás encontrar próximamente los detalles técnicos, artículos de la ley y documentación adicional sobre la implementación del sistema C.U.R.A.
        </p>
    </section>

    <!-- SECCIÓN SUMATE (Replicada del Index) -->
    <section id="sumate" class="space-y-6 pt-10 border-t border-cura-accent/20">
      <div class="max-w-2xl">
        <h2 class="text-xl md:text-2xl font-bold text-white mb-2">Quiero sumarme</h2>
        <p class="text-sm text-cura-accentLight">Completá tus datos para sumarte a la iniciativa.</p>
      </div>

      <form id="sumate-form"
            action="https://formsubmit.co/ajax/contacto@leycura.org"
            method="POST"
            class="bg-cura-card border border-cura-accent/40 rounded-xl p-4 shadow-md space-y-3">

        <input type="hidden" name="_subject" value="Nuevo ciudadano sumado (Desde Info) - LeyCURA">
        <input type="hidden" name="_template" value="box">
        <input type="hidden" name="_captcha" value="false">

        <div class="grid md:grid-cols-2 gap-3">
          <div>
            <label class="block text-xs font-medium text-red-400 mb-1">Nombre *</label>
            <input name="nombre" required class="w-full border border-cura-accent/40 rounded-md px-2 py-1.5 text-sm text-cura-primary" />
          </div>
          <div>
            <label class="block text-xs font-medium text-red-400 mb-1">Apellido *</label>
            <input name="apellido" required class="w-full border border-cura-accent/40 rounded-md px-2 py-1.5 text-sm text-cura-primary" />
          </div>
        </div>

        <div class="grid md:grid-cols-2 gap-3">
          <div>
            <label class="block text-xs font-medium text-red-400 mb-1">Provincia *</label>
            <select name="provincia" required
                    class="w-full border border-cura-accent/40 rounded-md px-2 py-1.5 text-sm text-cura-primary bg-white text-cura-primary">
              <option value="">Seleccioná una provincia</option>
              <option value="Buenos Aires">Buenos Aires</option>
              <option value="Ciudad Autónoma de Buenos Aires">Ciudad Autónoma de Buenos Aires</option>
              <option value="Catamarca">Catamarca</option>
              <option value="Chaco">Chaco</option>
              <option value="Chubut">Chubut</option>
              <option value="Córdoba">Córdoba</option>
              <option value="Corrientes">Corrientes</option>
              <option value="Entre Ríos">Entre Ríos</option>
              <option value="Formosa">Formosa</option>
              <option value="Jujuy">Jujuy</option>
              <option value="La Pampa">La Pampa</option>
              <option value="La Rioja">La Rioja</option>
              <option value="Mendoza">Mendoza</option>
              <option value="Misiones">Misiones</option>
              <option value="Neuquén">Neuquén</option>
              <option value="Río Negro">Río Negro</option>
              <option value="Salta">Salta</option>
              <option value="San Juan">San Juan</option>
              <option value="San Luis">San Luis</option>
              <option value="Santa Cruz">Santa Cruz</option>
              <option value="Santa Fe">Santa Fe</option>
              <option value="Santiago del Estero">Santiago del Estero</option>
              <option value="Tierra del Fuego, Antártida e Islas del Atlántico Sur">Tierra del Fuego, Antártida e Islas del Atlántico Sur</option>
              <option value="Tucumán">Tucumán</option>
            </select>
          </div>
          <div>
            <label class="block text-xs font-medium text-red-400 mb-1">Ciudad *</label>
            <select name="ciudad" id="ciudad-select" required
                    class="w-full border border-cura-accent/40 rounded-md px-2 py-1.5 text-sm text-cura-primary bg-white text-cura-primary">
              <option value="">Seleccioná una ciudad</option>
            </select>
          </div>
        </div>

        <div><label class="block text-xs font-medium text-red-400 mb-1">Email de contacto *</label><input type="email" name="email" required class="w-full border border-cura-accent/40 rounded-md px-2 py-1.5 text-sm text-cura-primary" /></div>
        <div><label class="block text-xs font-medium text-cura-accentLight mb-1">DNI (opcional)</label><input name="dni" class="w-full border border-cura-accent/40 rounded-md px-2 py-1.5 text-sm text-cura-primary" /></div>
        <div><label class="block text-xs font-medium text-cura-accentLight mb-1">Número de teléfono (opcional)</label><input name="telefono" class="w-full border border-cura-accent/40 rounded-md px-2 py-1.5 text-sm text-cura-primary" /></div>

        <button type="submit" class="w-full inline-flex justify-center items-center px-3 py-2 rounded-md bg-white text-cura-primary text-sm font-semibold hover:bg-cura-accentLight transition">Enviar</button>
        <p class="text-[10px] text-cura-accentLight mt-1">Los campos marcados con * son obligatorios.</p>
      </form>
    </section>

  </main>

  <!-- Footer Simplificado -->
  <footer class="border-t border-cura-accent/30 bg-cura-primaryDark mt-auto">
    <div class="max-w-5xl mx-auto px-4 py-6 flex flex-col md:flex-row items-center justify-between gap-3 text-[11px] text-cura-accentLight">
      <p>Copyright © 2025 C.U.R.A. - Todos los derechos reservados.</p>
      <div class="flex flex-wrap gap-3">
        <a href="/index.html" class="hover:text-white">Volver al Inicio</a>
        <a href="mailto:contacto@leycura.org" class="hover:text-white">Contacto</a>
      </div>
    </div>
  </footer>

  <!-- MODAL DE ÉXITO (SUMATE) -->
  <div id="sumate-modal" class="modal-backdrop fixed inset-0 bg-black/60 flex items-center justify-center z-40 hidden">
    <div class="modal-card bg-white rounded-2xl shadow-xl max-w-xs w-full p-6 text-center">
      <div class="mx-auto mb-4 flex items-center justify-center h-12 w-12 rounded-full bg-green-100">
        <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-green-500" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-7.25 7.25a1 1 0 01-1.414 0l-3.25-3.25a1 1 0 111.414-1.414L8.5 11.586l6.543-6.543a1 1 0 011.414 0z" clip-rule="evenodd" /></svg>
      </div>
      <h2 class="text-lg font-semibold text-cura-primary mb-1">¡Gracias por sumarte!</h2>
      <p class="text-sm text-gray-600 mb-4">En breve nos contactaremos para enviarte el formulario de junta de firmas.</p>
      <button id="sumate-modal-ok" class="px-4 py-2 rounded-md bg-cura-primary text-white text-sm font-semibold">OK</button>
    </div>
  </div>

<script>
document.addEventListener('DOMContentLoaded', function () {

  // --- CIUDADES Y GEOREF ---
  const provinciaSelect = document.querySelector('select[name="provincia"]');
  const ciudadSelect = document.getElementById('ciudad-select');

  async function cargarCiudades() {
    if (!provinciaSelect || !ciudadSelect) return;
    const prov = provinciaSelect.value;
    ciudadSelect.innerHTML = '<option value="">Cargando ciudades...</option>';
    if (!prov) {
      ciudadSelect.innerHTML = '<option value="">Seleccioná una ciudad</option>';
      return;
    }
    try {
      const url = 'https://apis.datos.gob.ar/georef/api/localidades?campos=nombre&max=5000&provincia=' + encodeURIComponent(prov);
      const res = await fetch(url);
      if (!res.ok) throw new Error();
      const data = await res.json();
      const localidades = (data.localidades || [])
        .map(l => l.nombre)
        .sort((a, b) => a.localeCompare(b, 'es'));

      ciudadSelect.innerHTML = '<option value="">Seleccioná una ciudad</option>';
      localidades.forEach(nombre => {
        const opt = document.createElement('option');
        opt.value = nombre;
        opt.textContent = nombre;
        ciudadSelect.appendChild(opt);
      });
    } catch (e) {
      ciudadSelect.innerHTML = '<option value="">No se pudieron cargar las ciudades</option>';
    }
  }

  if (provinciaSelect) {
    provinciaSelect.addEventListener('change', cargarCiudades);
  }

  // --- FORMULARIO SUMATE ---
  const sumateForm    = document.getElementById('sumate-form');
  const sumateModal   = document.getElementById('sumate-modal');
  const sumateCard    = sumateModal ? sumateModal.querySelector('.modal-card') : null;
  const sumateOkBtn   = document.getElementById('sumate-modal-ok');

  function abrirSumateModal() {
    if (!sumateModal) return;
    sumateModal.classList.remove('hidden');
    requestAnimationFrame(function () { sumateModal.classList.add('show'); sumateCard.classList.add('show'); });
  }
  function cerrarSumateModal() {
    if (!sumateModal) return;
    sumateModal.classList.remove('show'); sumateCard.classList.remove('show');
    setTimeout(function () { sumateModal.classList.add('hidden'); }, 250);
  }

  if (sumateForm && sumateModal && sumateOkBtn) {
    sumateForm.addEventListener('submit', async function (e) {
      e.preventDefault();
      const submitBtn = sumateForm.querySelector('button[type="submit"]');
      const originalText = submitBtn ? submitBtn.textContent : '';
      if (submitBtn) { submitBtn.disabled = true; submitBtn.textContent = 'Enviando…'; }

      try {
        const formData = new FormData(sumateForm);
        const email = (formData.get('email') || '').toString().trim();
        
        // Envío
        const formSubmitPromise = fetch(sumateForm.action, {
          method: 'POST', headers: { 'Accept': 'application/json' }, body: formData
        });
        
        // Opcional: Brevo / API extra si existiera (Mantenido del original)
        let brevoPromise = Promise.resolve();
        if (email) {
          const payload = { email: email, tipo: 'SUMARME' };
          // brevoPromise = fetch('/api/sumate', { method: 'POST', ... }); // Comentado para evitar error 404 si no existe
        }

        const [formRes] = await Promise.all([formSubmitPromise, brevoPromise]);
        if (!formRes.ok) throw new Error('Error al enviar el formulario');
        
        sumateForm.reset();
        abrirSumateModal();
      } catch (err) { alert('Ocurrió un error. Intentá nuevamente.'); }
      finally { if (submitBtn) { submitBtn.disabled = false; submitBtn.textContent = originalText; } }
    });
    sumateOkBtn.addEventListener('click', cerrarSumateModal);
    sumateModal.addEventListener('click', function (e) { if (e.target === sumateModal) cerrarSumateModal(); });
  }

});
</script>

</body>
</html>
