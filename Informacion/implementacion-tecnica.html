<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <link rel="icon" type="image/png" href="/favicon.png" />
  <title>Información | Ley C.U.R.A.</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />

  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet" />

  <script src="https://cdn.tailwindcss.com"></script>
  <script>
    tailwind.config = {
      theme: {
        extend: {
          colors: {
            cura: {
              primary: '#004E85',       
              primaryDark: '#00345C',   
              card: '#065D9B',         
              accent: '#00C2FF',       
              accentLight: '#59D2FF'   
            }
          },
          fontFamily: {
            sans: ['Inter', 'sans-serif'],
          }
        }
      }
    }
  </script>

<style>
  /* --- ANIMACIONES DE MODALES --- */
  .modal-backdrop {
    opacity: 0;
    transition: opacity 0.25s ease;
  }
  .modal-backdrop.show {
    opacity: 1;
  }
  .modal-card {
    transform: scale(0.9) translateY(10px);
    opacity: 0;
    transition: transform 0.25s ease, opacity 0.25s ease;
  }
  .modal-card.show {
    transform: scale(1) translateY(0);
    opacity: 1;
  }
  
  /* Cursor parpadeante para el efecto máquina de escribir */
  .cursor-blink::after {
    content: '|';
    animation: blink 1s step-end infinite;
    color: #59D2FF;
  }
  @keyframes blink {
    0%, 100% { opacity: 1; }
    50% { opacity: 0; }
  }
</style>

</head>
<body class="font-sans bg-cura-primary text-white overflow-x-hidden flex flex-col min-h-screen">

  <header class="sticky top-0 z-30 bg-cura-primaryDark text-white border-b border-cura-accent/40 shadow-sm">
    <div class="max-w-5xl mx-auto px-4 py-3 flex flex-col sm:flex-row gap-3 sm:gap-4 sm:items-center sm:justify-between">

      <div class="flex items-center gap-2">
        <img src="/Informacion/logo.png"
             alt="Logo C.U.R.A."
             class="h-16 w-auto object-contain shrink-0" />
        <div class="leading-tight">
          <p class="text-[11px] uppercase tracking-[0.25em] text-cura-accentLight">LEY NACIONAL</p>
          <p class="text-sm font-bold text-white">Transformación Digital Sanitaria Argentina</p>
        </div>
      </div>

      <nav class="flex items-center gap-4 text-sm font-medium whitespace-nowrap justify-center sm:justify-end mt-2 sm:mt-0">
        <a href="/Informacion/informacion.html" class="group text-cura-accentLight hover:text-white transition-all duration-300 flex items-center gap-1 hover:-translate-y-0.5">
            <span class="transition-transform duration-300 group-hover:-translate-x-1 font-bold text-lg">←</span> 
            Volver
        </a>
        <a href="#sumate" class="text-cura-accentLight hover:text-white transition-colors uppercase font-bold nav-scroll-link">
            Sumate
        </a>
        <a href="/random/demo-random.html"
           class="inline-flex items-center gap-1 text-cura-primary bg-cura-accent rounded-full px-3 py-1 text-xs font-semibold hover:bg-white transition">
          Demo Enfermero
        </a>
      </nav>
    </div>
  </header>

  <main class="flex-grow w-full px-4 py-10 space-y-12 flex flex-col items-center">
    
    <section class="w-full max-w-4xl mx-auto">
        <h1 class="text-3xl font-bold text-white mb-8 text-center">Implementación Técnica</h1>
        
        <div class="w-full flex justify-center">
            <a href="/Informacion/implementacion-tecnica.html" class="block w-full bg-cura-card rounded-xl border border-cura-accent/40 p-6 shadow-md hover:border-cura-accent transition-all duration-300 hover:shadow-lg hover:-translate-y-1 min-h-[450px] md:min-h-[350px]">
                
             <p id="typewriter-text" class="whitespace-pre-wrap text-sm md:text-base text-white leading-relaxed cursor-blink">
La implementación técnica del Sistema C.U.R.A. se basa en una arquitectura nacional unificada, diseñada para garantizar seguridad, interoperabilidad, trazabilidad completa y funcionamiento continuo en todo el país. El sistema combina servidores nacionales de alta disponibilidad, infraestructura de ARSAT, estándares internacionales abiertos y un modelo modular que permite integrar a hospitales, provincias, obras sociales, PAMI, ART, laboratorios y farmacias sin necesidad de reemplazar su equipamiento actual.

La plataforma utiliza estándares abiertos de interoperabilidad, como HL7 FHIR, SNOMED CT y LOINC, asegurando que todos los sistemas puedan comunicarse entre sí. Los prestadores cargan datos mediante APIs seguras o a través de la interfaz web oficial, con autenticación robusta mediante los proveedores de identidad del Estado (Mi Argentina, Mi AFIP, Mi ANSES). Cada registro clínico cargado queda integrado automáticamente a la historia clínica del paciente sin duplicaciones ni pérdidas de información.

La ley establece una infraestructura técnica con foco en la soberanía tecnológica: todos los datos se alojan exclusivamente en territorio nacional, bajo infraestructura de ARSAT, con nodos redundantes, respaldo continuo y mecanismos de contingencia. Esto incluye un Modo de Contingencia que permite a los establecimientos seguir funcionando ante caídas de conectividad, sincronizando la información de forma segura apenas se restablece el servicio.

La seguridad es un componente central. Todo acceso, modificación o consulta queda registrado en el Módulo Nacional de Trazabilidad y Auditoría, que utiliza firma digital, sello de tiempo y registro inalterable por diez años. El sistema incorpora alertas automáticas para detectar accesos indebidos, intentos de manipulación y patrones sospechosos. Además, existe un protocolo de Urgencia Crítica administrado por el CSIRT-C.U.R.A., capaz de responder en 24 a 72 horas ante incidentes de seguridad.

La implementación técnica también incluye herramientas de capacitación obligatoria, simuladores, paneles de privacidad para que cada ciudadano vea quién accedió a sus datos, portales de auditoría pública y compatibilidad full web para operar desde computadoras, tablets o teléfonos estándar sin necesidad de sistemas propietarios.

C.U.R.A. adopta una arquitectura modular que permite sumar nuevas funciones sin afectar la estabilidad del sistema: historia clínica digital, prescripción electrónica, credencial de emergencia con QR, gestión unificada de turnos, trazabilidad de medicamentos, integración con PAMI, vigilancia epidemiológica, panel de interoperabilidad, e incluso el futuro Hub Global de Intercambio Internacional.

La implementación se realiza con principio de costo cero, aprovechando infraestructura pública ya existente, recursos humanos de organismos nacionales y estándares abiertos que evitan licencias propietarias. Todo el sistema es extensible, auditable, seguro, y se actualiza al menos dos veces por año.
                </p>
            </a>
        </div>
    </section>

    <section id="sumate" class="space-y-6 pt-10 border-t border-cura-accent/20 w-full max-w-5xl mx-auto">
      <div class="max-w-2xl">
        <h2 class="text-xl md:text-2xl font-bold text-white mb-2">Quiero sumarme</h2>
        <p class="text-sm text-cura-accentLight">Completá tus datos para sumarte a la iniciativa.</p>
      </div>

      <form id="sumate-form"
            action="https://formsubmit.co/ajax/contacto@leycura.org"
            method="POST"
            class="bg-cura-card border border-cura-accent/40 rounded-xl p-4 shadow-md space-y-3 max-w-4xl">

        <input type="hidden" name="_subject" value="Nuevo ciudadano sumado (Desde Info) - LeyCURA">
        <input type="hidden" name="_template" value="box">
        <input type="hidden" name="_captcha" value="false">

        <div class="grid md:grid-cols-2 gap-3">
          <div>
            <label class="block text-xs font-medium text-red-400 mb-1">Nombre *</label>
            <input name="nombre" required class="w-full border border-cura-accent/40 rounded-md px-2 py-1.5 text-sm text-cura-primary" />
          </div>
          <div>
            <label class="block text-xs font-medium text-red-400 mb-1">Apellido *</label>
            <input name="apellido" required class="w-full border border-cura-accent/40 rounded-md px-2 py-1.5 text-sm text-cura-primary" />
          </div>
        </div>

        <div class="grid md:grid-cols-2 gap-3">
          <div>
            <label class="block text-xs font-medium text-red-400 mb-1">Provincia *</label>
            <select name="provincia" required
                    class="w-full border border-cura-accent/40 rounded-md px-2 py-1.5 text-sm text-cura-primary bg-white text-cura-primary">
              <option value="">Seleccioná una ciudad</option>
              <option value="Buenos Aires">Buenos Aires</option>
              <option value="Ciudad Autónoma de Buenos Aires">Ciudad Autónoma de Buenos Aires</option>
              <option value="Catamarca">Catamarca</option>
              <option value="Chaco">Chaco</option>
              <option value="Chubut">Chubut</option>
              <option value="Córdoba">Córdoba</option>
              <option value="Corrientes">Corrientes</option>
              <option value="Entre Ríos">Entre Ríos</option>
              <option value="Formosa">Formosa</option>
              <option value="Jujuy">Jujuy</option>
              <option value="La Pampa">La Pampa</option>
              <option value="La Rioja">La Rioja</option>
              <option value="Mendoza">Mendoza</option>
              <option value="Misiones">Misiones</option>
              <option value="Neuquén">Neuquén</option>
              <option value="Río Negro">Río Negro</option>
              <option value="Salta">Salta</option>
              <option value="San Juan">San Juan</option>
              <option value="San Luis">San Luis</option>
              <option value="Santa Cruz">Santa Cruz</option>
              <option value="Santa Fe">Santa Fe</option>
              <option value="Santiago del Estero">Santiago del Estero</option>
              <option value="Tierra del Fuego, Antártida e Islas del Atlántico Sur">Tierra del Fuego, Antártida e Islas del Atlántico Sur</option>
              <option value="Tucumán">Tucumán</option>
            </select>
          </div>
          <div>
            <label class="block text-xs font-medium text-red-400 mb-1">Ciudad *</label>
            <select name="ciudad" id="ciudad-select" required
                    class="w-full border border-cura-accent/40 rounded-md px-2 py-1.5 text-sm text-cura-primary bg-white text-cura-primary">
              <option value="">Seleccioná una ciudad</option>
            </select>
          </div>
        </div>

        <div><label class="block text-xs font-medium text-red-400 mb-1">Email de contacto *</label><input type="email" name="email" required class="w-full border border-cura-accent/40 rounded-md px-2 py-1.5 text-sm text-cura-primary" /></div>
        <div><label class="block text-xs font-medium text-cura-accentLight mb-1">DNI (opcional)</label><input name="dni" class="w-full border border-cura-accent/40 rounded-md px-2 py-1.5 text-sm text-cura-primary" /></div>
        <div><label class="block text-xs font-medium text-cura-accentLight mb-1">Número de teléfono (opcional)</label><input name="telefono" class="w-full border border-cura-accent/40 rounded-md px-2 py-1.5 text-sm text-cura-primary" /></div>

        <button type="submit" class="w-full inline-flex justify-center items-center px-3 py-2 rounded-md bg-white text-cura-primary text-sm font-semibold hover:bg-cura-accentLight transition">Enviar</button>
        <p class="text-[10px] text-cura-accentLight mt-1">Los campos marcados con * son obligatorios.</p>
      </form>
    </section>

  </main>

  <footer class="border-t border-cura-accent/30 bg-cura-primaryDark mt-auto">
    <div class="max-w-5xl mx-auto px-4 py-6 flex flex-col md:flex-row items-center justify-between gap-3 text-[11px] text-cura-accentLight">
      <p>Copyright © 2025 C.U.R.A. - Todos los derechos reservados.</p>
      <div class="flex flex-wrap gap-3">
        <a href="/index.html" class="hover:text-white">Volver al Inicio</a>
        <a href="mailto:contacto@leycura.org" class="hover:text-white">Contacto</a>
      </div>
    </div>
  </footer>

  <div id="sumate-modal" class="modal-backdrop fixed inset-0 bg-black/60 flex items-center justify-center z-40 hidden">
    <div class="modal-card bg-white rounded-2xl shadow-xl max-w-xs w-full p-6 text-center">
      <div class="mx-auto mb-4 flex items-center justify-center h-12 w-12 rounded-full bg-green-100">
        <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-green-500" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-7.25 7.25a1 1 0 01-1.414 0l-3.25-3.25a1 1 0 111.414-1.414L8.5 11.586l6.543-6.543a1 1 0 011.414 0z" clip-rule="evenodd" /></svg>
      </div>
      <h2 class="text-lg font-semibold text-cura-primary mb-1">¡Gracias por sumarte!</h2>
      <p class="text-sm text-gray-600 mb-4">En breve nos contactaremos para enviarte el formulario de junta de firmas.</p>
      <button id="sumate-modal-ok" class="px-4 py-2 rounded-md bg-cura-primary text-white text-sm font-semibold">OK</button>
    </div>
  </div>

<script>
document.addEventListener('DOMContentLoaded', function () {

  // --- 1. ANIMACIÓN TYPEWRITER RÁPIDA ---
  const textElement = document.getElementById('typewriter-text');
  
  if (textElement) {
    const fullText = textElement.innerText;
    textElement.innerText = ''; // Limpiamos texto inicial
    
    let i = 0;
    // Ajusta velocidad: menor número = más rápido.
    // Para que sea "muy rápido" con tanto texto, imprimimos de a 3 caracteres cada 5ms.
    const speed = 5; 

    function typeWriter() {
      if (i < fullText.length) {
        // Escribimos varios caracteres a la vez para acelerar bloques grandes de texto
        textElement.textContent += fullText.substring(i, i + 3);
        i += 3;
        setTimeout(typeWriter, speed);
      } else {
        // Al finalizar, quitamos el cursor parpadeante (opcional)
        textElement.classList.remove('cursor-blink');
      }
    }
    
    // Iniciar con un pequeño delay para asegurar renderizado
    setTimeout(typeWriter, 300);
  }

  // --- 2. SCROLL SUAVE (SMOOTH SCROLL) ---
  function smoothScrollTo(element, duration = 1700, offset = 100) {
    if (!element) return;
    const targetY = element.getBoundingClientRect().top + window.pageYOffset - offset;
    const startY = window.pageYOffset;
    const distance = targetY - startY;
    let startTime = null;

    function animation(currentTime) {
      if (!startTime) startTime = currentTime;
      const timeElapsed = currentTime - startTime;
      const progress = Math.min(timeElapsed / duration, 1);
      const ease = 1 - Math.pow(1 - progress, 3);
      window.scrollTo(0, startY + distance * ease);
      if (timeElapsed < duration) requestAnimationFrame(animation);
    }
    requestAnimationFrame(animation);
  }

  const scrollLinks = document.querySelectorAll('a[href^="#"]');
  scrollLinks.forEach(link => {
      link.addEventListener('click', function(e) {
          const targetId = this.getAttribute('href');
          if (targetId && targetId !== '#') {
              const targetElement = document.querySelector(targetId);
              if (targetElement) {
                  e.preventDefault();
                  smoothScrollTo(targetElement);
              }
          }
      });
  });

  // --- 3. CIUDADES Y GEOREF ---
  const provinciaSelect = document.querySelector('select[name="provincia"]');
  const ciudadSelect = document.getElementById('ciudad-select');

  async function cargarCiudades() {
    if (!provinciaSelect || !ciudadSelect) return;
    const prov = provinciaSelect.value;
    ciudadSelect.innerHTML = '<option value="">Cargando ciudades...</option>';
    if (!prov) {
      ciudadSelect.innerHTML = '<option value="">Seleccioná una ciudad</option>';
      return;
    }
    try {
      const url = 'https://apis.datos.gob.ar/georef/api/localidades?campos=nombre&max=5000&provincia=' + encodeURIComponent(prov);
      const res = await fetch(url);
      if (!res.ok) throw new Error();
      const data = await res.json();
      const localidades = (data.localidades || [])
        .map(l => l.nombre)
        .sort((a, b) => a.localeCompare(b, 'es'));

      ciudadSelect.innerHTML = '<option value="">Seleccioná una ciudad</option>';
      localidades.forEach(nombre => {
        const opt = document.createElement('option');
        opt.value = nombre;
        opt.textContent = nombre;
        ciudadSelect.appendChild(opt);
      });
    } catch (e) {
      ciudadSelect.innerHTML = '<option value="">No se pudieron cargar las ciudades</option>';
    }
  }

  if (provinciaSelect) {
    provinciaSelect.addEventListener('change', cargarCiudades);
  }

  // --- 4. FORMULARIO SUMATE ---
  const sumateForm    = document.getElementById('sumate-form');
  const sumateModal   = document.getElementById('sumate-modal');
  const sumateCard    = sumateModal ? sumateModal.querySelector('.modal-card') : null;
  const sumateOkBtn   = document.getElementById('sumate-modal-ok');

  function abrirSumateModal() {
    if (!sumateModal) return;
    sumateModal.classList.remove('hidden');
    requestAnimationFrame(function () { sumateModal.classList.add('show'); sumateCard.classList.add('show'); });
  }
  function cerrarSumateModal() {
    if (!sumateModal) return;
    sumateModal.classList.remove('show'); sumateCard.classList.remove('show');
    setTimeout(function () { sumateModal.classList.add('hidden'); }, 250);
  }

  if (sumateForm && sumateModal && sumateOkBtn) {
    sumateForm.addEventListener('submit', async function (e) {
      e.preventDefault();
      const submitBtn = sumateForm.querySelector('button[type="submit"]');
      const originalText = submitBtn ? submitBtn.textContent : '';
      if (submitBtn) { submitBtn.disabled = true; submitBtn.textContent = 'Enviando…'; }

      try {
        const formData = new FormData(sumateForm);
        // Envío
        const formSubmitPromise = fetch(sumateForm.action, {
          method: 'POST', headers: { 'Accept': 'application/json' }, body: formData
        });
        
        const [formRes] = await Promise.all([formSubmitPromise]);
        if (!formRes.ok) throw new Error('Error al enviar el formulario');
        
        sumateForm.reset();
        abrirSumateModal();
      } catch (err) { alert('Ocurrió un error. Intentá nuevamente.'); }
      finally { if (submitBtn) { submitBtn.disabled = false; submitBtn.textContent = originalText; } }
    });
    sumateOkBtn.addEventListener('click', cerrarSumateModal);
    sumateModal.addEventListener('click', function (e) { if (e.target === sumateModal) cerrarSumateModal(); });
  }

});
</script>

</body>
</html>
